<!DOCTYPE html>
<html>

<head>
  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!--Import materialize.css-->
  <link rel="stylesheet" href="../../materialize/css/materialize.min.css">
  <link rel="stylesheet" href="../../materialize/css/customer.css">
  <link rel="stylesheet" href="../../materialize/css/datatable.min.css">

  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<%- include('../header.ejs')  %>
<div class="container-fluid ">
  <div class="row">
    <div class="col s12 card">
      <div class="card-header">
        <h5>Ban kiểm phiếu bầu cử</h5>
      </div>
      <div class="card-content">
        <div class="row">
          <ul class="tabs tabs-fixed-width tab-demo z-depth-1">
            <li class="tab"><a class="active" href="#test1">Tán thành</a></li>
            <li class="tab"><a href="#test2" id="div2">Không tán thành</a></li>

          </ul>


          <div id="test1" class="col s12">
            <div class="input-field col s6">
              <i class="material-icons prefix">search</i>
              <input id="tanthanh" type="text" class="validate" name="Ma_Dai_Bieu">
              <label for="">Scan phiếu biểu quyết tán thành</label>
              <button name="options" value="1" hidden></button>
            </div>
            <table class="striped" id="tbl-tanthanh">
              <thead>
                <tr>
                  <th>Phiếu đại biểu</th>
                  <th>Đại Biểu</th>
                </tr>
              </thead>
              <tbody>

              </tbody>
              <tfoot></tfoot>
            </table>
          </div>
          <div id="test2" class="col s12">
            <div class="input-field col s6">
              <i class="material-icons prefix">search</i>
              <input id="khongtanthanh" type="text" class="validate" name="Ma_Dai_Bieu">
              <label for="">Scan phiếu biểu quyết không tán thành</label>
              <button name="options" value="0" hidden></button>
            </div>
            <div class="col s12">
            <table class="striped" id="tbl-khongtanthanh">
              <thead>
                <tr>
                  <th>Phiếu đại biểu</th>
                  <th>Đại Biểu</th>
                </tr>
              </thead>
              <tbody>

              </tbody>
              <tfoot></tfoot>
            </table></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div id="modal1" class="modal" style="height: 300px;">
  <div class="modal-content center-align">
    <div class="preloader-wrapper big active">
      <div class="spinner-layer spinner-blue-only">
        <div class="circle-clipper left">
          <div class="circle"></div>
        </div>
        <div class="gap-patch">
          <div class="circle"></div>
        </div>
        <div class="circle-clipper right">
          <div class="circle">
          </div>
        </div>
      </div>

    </div>
    <h5 class="center-align">
      <Loading class="loading">loading...</Loading>
    </h5>
  </div>
</div>
<button data-target="modal1" class="btn modal-trigger" style="display: none;">Modal</button>
<!--JavaScript at end of body for optimized loading-->
<script src="../../materialize/js/jquery-3.4.1.min.js"></script>
<script src="../../materialize/js/materialize.min.js"></script>
<script src="../../materialize/js/datatable.min.js"></script>
<script src="../../materialize/js/customer.js"></script>
<script src="../../materialize/js/scan.js"></script>
<script>
  const id = '<%= id %>'
  $('#tbl-tanthanh').DataTable({
    ajax: {
      url: `../ajax/refresh/tan-thanh/${id}`,
      dataSrc: '',

    },
    columns: [
      { 'data': "Ma_Dai_Bieu" },
      { 'data': "Ten_Dai_Bieu" }
    ]
  })
    $('#tbl-khongtanthanh').DataTable({
    ajax: {
      url: `../ajax/refresh/khong-tan-thanh/${id}`,
      dataSrc: '',
    },
    columns: [
      { 'data': "Ma_Dai_Bieu" },
      { 'data': "Ten_Dai_Bieu" }
    ],
    columnDefs: [
            { width: '20%', targets: 0 }
        ],
  })
  
  ScanBieuQuyet()
</script>
</body>

</html>